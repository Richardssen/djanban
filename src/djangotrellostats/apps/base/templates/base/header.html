{% load staticfiles %}

<div id="header">
    <div id="header_logo">
        <img id="header_image" src="{% static 'img/logo.png' %}" alt="Trello Stats Logo" />
    </div>
    {% with url_name=request.resolver_match.url_name %}
        <ul class="nav nav-tabs">
            <li role="presentation" {% if url_name == "index" %}class="active"{% endif %}>
                <a href="{% url 'index' %}" title="Index">Index</a>
            </li>
            {% if user and user.is_authenticated %}
                <li role="presentation" {% if url_name == "view_hourly_rates" %}class="active"{% endif %}>
                   <a href="{% url 'hourly_rates:view_hourly_rates' %}" title="View available hourly rates">
                       <span class="fa fa-usd"></span> View hourly rates
                   </a>
                </li>
                <li role="presentation" {% if url_name == "view_boards" %}class="active"{% endif %}>
                   <a href="{% url 'boards:view_boards' %}" title="View my boards">
                       <span class="fa fa-tasks"></span> View my boards
                   </a>
                </li>
                <li role="presentation" {% if url_name == "view_members" %}class="active"{% endif %}>
                    <a href="{% url 'members:view_members' %}" title="View members">
                        <span class="fa fa-users"></span> Members
                    </a>
                </li>
                {% if request.user.member.is_developer %}
                    <li role="presentation">
                        {% with num_cards_in_development=request.user.member.get_current_development_cards|length %}
                            <a href="{% url 'index' %}" title="You have {{num_cards_in_development}} cards in development. See them in index">
                                <span class="fa fa-clone"></span> {{num_cards_in_development}}
                            </a>
                        {% endwith %}
                    </li>
                {% endif %}
                <li class="dropdown">
                  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Logout <span class="caret"></span></a>
                  <ul class="dropdown-menu">
                      <li><a href="{% url 'members:logout' %}" title="User logout">Confirm logout</a></li>
                  </ul>
                </li>
            {% else %}
                <li role="presentation" {% if url_name == "login" %}class="active"{% endif %}>
                    <a href="{% url 'members:login' %}" title="User login">
                        Login
                    </a>
                </li>
                <li role="presentation" {% if url_name == "signup" %}class="active"{% endif %}>
                    <a href="{% url 'members:signup' %}" title="User signup">
                        Signup
                    </a>
                </li>
            {% endif %}
        </ul>
    {% endwith %}
</div>