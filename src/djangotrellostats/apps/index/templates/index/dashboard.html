<h1>{{member.trello_username}}'s dashboard</h1>

<div class="dashboard">
    {% if boards|length == 0 %}
        {% include "boards/no_boards_warning.html" %}
    {% endif %}
</div>

{% if member.is_developer %}
    {% include "members/components/tasks_in_development_boards.html" %}
{% endif %}

{% if  boards|length > 0 %}
    <h2>Charts</h2>

        <div class="row">
            {% if developers|length > 0 %}
                <div class="col-md-6">
                    <div>Spent time filter:</div>
                    <div>
                        <select id="select_member_in_spent_time_by_day_of_the_week" class="select_parameter_in_spent_time_by_day_of_the_week">
                            {% for member_i in developers %}
                                <option value="{{member_i.id}}" {% if member_i.id == member.id %}selected="selected"{% endif %}>{{member_i.trello_username}}</option>
                            {% endfor %}
                        </select>
                        <select id="select_week_of_year_in_spent_time_by_day_of_the_week" class="select_parameter_in_spent_time_by_day_of_the_week">
                            {% for week_i in weeks_of_year %}
                                <option value="{{week_i}}" {% if week_i == week_of_year %}selected="selected"{% endif %}>{{week_i}}</option>
                            {% endfor %}
                        </select>
                        <select id="select_board_in_spent_time_by_day_of_the_week" class="select_parameter_in_spent_time_by_day_of_the_week">
                            <option value="">All boards</option>
                            {% for board in boards %}
                                <option value="{{board.id}}">{{board.name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <img id="spent_time_by_day_of_the_week" src="{% url 'charts:spent_time_by_day_of_the_week' %}" alt="Spent time by {{request.user.member.trello_username}}"/>
                </div>
                <div class="col-md-6">
                    <img src="{% url 'charts:spent_time_by_week' %}" alt="Spent time by member"/>
                </div>
            {% else %}
                {% include "members/components/no_developers_warning.html" %}
            {% endif %}
        </div>


    <div class="row">
        <div class="col-sm-6">
            <img src="{% url 'charts:task_forward_movements_by_member' %}" alt="Task forward movements by member"/>
        </div>
        <div class="col-sm-6">
            <img src="{% url 'charts:task_backward_movements_by_member' %}" alt="Task backward movements by member"/>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-6">
            <img src="{% url 'charts:avg_lead_time' %}" alt="Average lead time"/>
        </div>
        <div class="col-sm-6">
            <img src="{% url 'charts:avg_cycle_time' %}" alt="Average cycle time"/>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6">
            <img src="{% url 'charts:avg_spent_time' %}" alt="Average spent time"/>
        </div>
        <div class="col-sm-6">
            <img src="{% url 'charts:avg_estimated_time' %}" alt="Average estimated time"/>
        </div>
    </div>
{% endif %}
